@import "tailwindcss";
@theme {
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  
  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);
}

/* =========================
   Base Reset
========================= */
*,
*::before,
*::after {
  box-sizing: border-box;
}

html,
body,
#root {
  height: 100%;
  width: 100%;
}

body {
  @apply text-sm bg-white dark:bg-black;
}

/* =========================
   Theme Variables
========================= */
@layer base {
  :root {
    --background: 0 0% 98%;
    --foreground: 222.2 84% 4.9%;
    /* --primary: 221.2 83.2% 53.3%; */
    --primary-foreground: 210 40% 98%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 88%;
    --ring: 221.2 83.2% 53.3%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 222.2 84% 3.9%;
    --foreground: 210 40% 98%;
    --primary: 217.2 91.2% 59.8%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 15.5%;
    --ring: 224.3 76.3% 48%;
  }
}

/* =========================
   Global Base Styles
========================= */
@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply text-foreground;
  }
}

/* =========================
   Layout Helpers
========================= */
.dashboard-container {
  @apply pt-8 pb-5 px-8;
}

/* =========================
   Mapbox Popup Fix (IMPORTANT)
========================= */
.mapboxgl-popup-content {
  @apply rounded-lg py-2 px-3 text-white;
  background-color: hsl(var(--primary)) !important;
}

.mapboxgl-popup-anchor-top .mapboxgl-popup-tip {
  border-bottom-color: hsl(var(--primary)) !important;
}

.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip {
  border-top-color: hsl(var(--primary)) !important;
}

.mapboxgl-popup-anchor-left .mapboxgl-popup-tip {
  border-right-color: hsl(var(--primary)) !important;
}

.mapboxgl-popup-anchor-right .mapboxgl-popup-tip {
  border-left-color: hsl(var(--primary)) !important;
}

/* =========================
   Marker Popup
========================= */
.marker-popup {
  @apply flex items-center justify-between gap-3 p-2 m-0 bg-black text-white rounded-lg shadow-md;
}

.marker-popup-image {
  @apply w-10 h-10 object-cover bg-white rounded-lg;
}

.marker-popup-title {
  @apply cursor-pointer font-semibold text-white hover:text-gray-200;
}

.marker-popup-price {
  @apply text-sm font-semibold text-white hover:text-gray-200;
}

.marker-popup-price-unit {
  @apply text-xs font-normal text-white/70;
}


/* =========================
   Scrollbar
========================= */
::-webkit-scrollbar {
  width: 5px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background-color: hsl(var(--primary));
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background-color: hsl(var(--primary) / 0.8);
}

/* =========================
   AWS Amplify Overrides
========================= */
/* ================= Amplify Authenticator Base ================= */
[data-amplify-authenticator] {
  /* Primary Button Colors (BLACK) */
  --amplify-components-button-primary-background-color: #000000;
  --amplify-components-button-primary-hover-background-color: #111111;
  --amplify-components-button-primary-active-background-color: #000000;
  --amplify-components-button-primary-color: #ffffff;

  /* Radius */
  --amplify-components-button-border-radius: var(--radius);
  --amplify-components-fieldcontrol-border-radius: var(--radius);
}

/* ================= Layout ================= */
[data-amplify-authenticator][data-variation="default"] {
  height: 100%;
  padding: 2rem !important;
}

/* ================= Auth Card ================= */
[data-amplify-authenticator] [data-amplify-router] {
  border: none !important;
  box-shadow: none !important;
  max-width: 400px !important;
  margin: 0 auto;
}

/* ================= Container ================= */
[data-amplify-authenticator] [data-amplify-container] {
  border-radius: var(--radius);
  padding: 2rem !important;
  border: 1px solid hsl(var(--border));
  background-color: hsl(var(--background));
}

/* ================= Primary Button ================= */
[data-amplify-authenticator] .amplify-button--primary {
  @apply w-full h-11 mt-4 text-sm font-medium;
  background-color: #000000 !important;
  color: #ffffff !important;
  border: none !important;
}

[data-amplify-authenticator] .amplify-button--primary:hover {
  background-color: #111111 !important;
}

/* ================= Labels ================= */
[data-amplify-authenticator] .amplify-label {
  @apply text-sm font-medium;
  color: hsl(var(--foreground));
}

/* =========================
   Sonner Toast
========================= */
[data-close-button="true"] {
  @apply  border border-border text-foreground hover:bg-muted;
}
